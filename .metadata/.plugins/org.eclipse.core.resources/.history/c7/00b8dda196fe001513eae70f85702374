package user.CONTROL;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;

import javax.swing.JTextArea;

import user.VIEW.ChatView;

public class ChatControl {

	ChatView view;
	
	public ChatControl(ChatView view)
	{
		this.view = view;		
		view.enviar.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent arg0) {										
				view.historico.append("Usuário x diz:\n"+view.mensagem.getText()+"\n");
				view.mensagem.setText("");
				view.mensagem.grabFocus();
			}
		});
		
		view.mensagem.addKeyListener(new KeyAdapter() {
			@Override
			public void keyReleased(KeyEvent arg0) {
				if(view.chckbxPressionarEnterPara.isSelected())
				{
					if(arg0.getKeyCode()==10)
					{
						int end=0;
						try {
							end = view.mensagem.getLineEndOffset(0);
						} catch (BadLocationException e) {
							// TODO Auto-generated catch block
							e.printStackTrace();
						} 
						view.historico.append("Usuário x diz:\n"+view.mensagem.getText()+"\n");
						view.enviar.grabFocus();					
						view.mensagem.setText("");					
						view.mensagem.grabFocus();
					}
				}
			}
		});
	}
	
	
}
